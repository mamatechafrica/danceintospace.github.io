<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Programs - Dance Into Space</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <style>
    :root { --primary: #6F0114; --secondary: #262B76; }
    .text-primary { color: var(--primary) !important; }
    .text-secondary { color: var(--secondary) !important; }
  </style>
</head>
<body class="font-sans flex flex-col min-h-screen">
  <!-- Navigation -->
  <div id="nav-placeholder"></div>

  <!-- Social Icons -->
  <div id="social-placeholder"></div>

  <!-- Database Programs -->
  <section class="py-12 sm:py-16 px-4">
    <div class="max-w-7xl mx-auto">
      <h2 class="text-2xl sm:text-3xl font-bold mb-8 text-primary">Our Programs</h2>
      <div id="db-programs" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
        <p class="col-span-full text-gray-600 text-center">Loading programs...</p>
      </div>
    </div>
  </section>

  <!-- Community Projects Section -->
  <section id="projects" class="py-16 lg:py-20 md:py-16 sm:py-12 px-4 md:px-8 sm:px-6" style="background-color: #ACA9BB;">
    <div class="container mx-auto">
      <h2 class="text-3xl font-bold mb-4" style="color: #6F0114;">Community Projects</h2>
      <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8 sm:gap-6 md:gap-10 lg:gap-12">
        
        <div class="group relative p-4 rounded overflow-hidden bg-black block" style="height: 500px;">
          <img src="/danceintospace.github.io/images/duet4.png" alt="Breaking Barriers" class="absolute inset-0 w-full h-full object-cover opacity-75 transition-opacity group-hover:opacity-50">
          <div class="absolute inset-0 bg-black bg-opacity-75 opacity-0 transition-opacity group-hover:opacity-100"></div>
          <div class="relative z-10 p-4">
            <h3 class="font-semibold text-white">Breaking Barriers</h3>
            <div class="mt-1 translate-y-8 transform opacity-0 transition-all group-hover:translate-y-0 group-hover:opacity-100">
              <p class="text-sm text-white mb-4 overflow-y-auto">
                Is a mixed ability dance and SRHR outreaches project in partnership with Amplify Change.
              </p>
            </div>
          </div>
        </div>
        
        <div class="group relative p-4 rounded overflow-hidden bg-black block" style="height: 500px;">
          <img src="/danceintospace.github.io/images/corruption.jpg" alt="Jukumu Letu" class="absolute inset-0 w-full h-full object-cover opacity-75 transition-opacity group-hover:opacity-50">
          <div class="absolute inset-0 bg-black bg-opacity-75 opacity-0 transition-opacity group-hover:opacity-100"></div>
          <div class="relative z-10 p-4">
            <h3 class="font-semibold text-black">Jukumu Letu</h3>
            <div class="mt-1 translate-y-8 transform opacity-0 transition-all group-hover:translate-y-0 group-hover:opacity-100">
              <p class="text-sm text-white mb-4 overflow-y-auto">
                Jukumu Letu is the title of an Interactive Media Outreach Project (iMOP)
                that emphasizes the use of new media forms to process and disseminate
                information that would motivate citizens to participate in the implementation
                of the constitution. <br> Dance Into Space together with civil society partners
                implemented the project in Nairobi, Nakuru, Mombasa, and Makueni with local
                artists and activists. In partnership with CRE-CO
              </p>
            </div>
          </div>
        </div>
        
        <div class="group relative p-4 rounded overflow-hidden bg-black block" style="height: 500px;">
          <img src="/danceintospace.github.io/images/man-ball.png" alt="Dance Meets Roots" class="absolute inset-0 w-full h-full object-cover opacity-75 transition-opacity group-hover:opacity-50">
          <div class="absolute inset-0 bg-black bg-opacity-75 opacity-0 transition-opacity group-hover:opacity-100"></div>
          <div class="relative z-10 p-4">
            <h3 class="font-semibold text-white">Dance Meets Roots</h3>
            <div class="mt-1 translate-y-8 transform opacity-0 transition-all group-hover:translate-y-0 group-hover:opacity-100">
              <p class="text-sm text-white mb-4 overflow-y-auto" style="max-height: 400px;">
                DMR is an intercultural contemporary dance decentralization project that has up-to-date brought
                together a network of 19 active dance groups country-wide. <br>The main objective of DMR is to
                decentralize contemporary dance by creating new groups, building new audiences, and creating
                performance and training spaces in new areas. The project started with a successful
                pilot phase between 2007-2009 in partnership with Arterial Network & Africalia Belgium.
              </p>
            </div>
          </div>
        </div>
        
      </div>
    </div>
  </section>

  <!-- Footer -->
  <div id="footer-placeholder"></div>

  <script>
    const SUPABASE_URL = 'https://alyeeqlwemcqtticapot.supabase.co';
    const SUPABASE_KEY = 'sb_publishable_wf4JGCogJQENREaZe4F_5w_x23Huhpe';
    const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_KEY);

    async function loadPrograms() {
      const { data } = await supabase.from('programs').select('*').order('created_at', { ascending: false });
      const container = document.getElementById('db-programs');
      if (!data || data.length === 0) {
        container.innerHTML = '<p class="col-span-full text-gray-600 text-center">No programs yet.</p>';
        return;
      }
      container.innerHTML = data.map(program => `
        <div class="flex flex-col items-center">
          <div class="w-full h-40 sm:h-48 rounded-lg shadow-md bg-cover bg-center" style="background-image: url('${program.image || 'images/sex education.jpeg'}');"></div>
          <div class="w-full sm:w-64 bg-white -mt-8 sm:-mt-10 shadow-lg rounded-lg overflow-hidden">
            <div class="py-3 text-center font-bold text-gray-800">${program.title || 'Untitled'}</div>
            <div class="py-2 px-3 bg-gray-100 text-center">
              <a href="/danceintospace.github.io/programs.html" class="bg-gray-400 text-xs px-4 py-2 rounded uppercase font-bold text-black hover:bg-indigo-900 hover:!text-white inline-block">Learn more</a>
            </div>
          </div>
        </div>
      `).join('');
    }

    document.addEventListener('DOMContentLoaded', loadPrograms);

    // Mobile menu toggle
    function toggleMobileMenu() {
      const menu = document.getElementById('mobile-menu');
      const icon = document.getElementById('menu-icon');
      menu.classList.toggle('hidden');
      if (menu.classList.contains('hidden')) {
        icon.setAttribute('d', 'M4 6h16M4 12h16M4 18h16');
      } else {
        icon.setAttribute('d', 'M6 18L18 6M6 6l12 12');
      }
    }
    
    document.getElementById('mobile-menu-btn').addEventListener('click', toggleMobileMenu);
  </script>

  <!-- Shared -->
  <script src="/danceintospace.github.io/js/shared.js"></script>
</body>
</html>
